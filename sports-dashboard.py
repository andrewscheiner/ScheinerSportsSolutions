import streamlit as st

st.set_page_config(
    page_title="Andrew Scheiner's Sports Dashboard",
    page_icon=":trophy:",
    layout="wide",
    initial_sidebar_state="expanded")

st.set_page_config(page_title="Andrew Scheiner's Sports Dashboard", page_icon=":trophy:", layout="wide")

# Replace with the path or URL to your image
background_image_url = "https://raw.githubusercontent.com/andrewscheiner/andrewscheiner.github.io/refs/heads/main/assets/heatmap0.png"

page_bg_css = f"""
<style>
[data-testid="stAppViewContainer"] {{
    background-image: url("{background_image_url}");
    background-size: cover;
    background-repeat: no-repeat;
    background-attachment: fixed;
}}

[data-testid="stHeader"] {{
    background: rgba(0,0,0,0);  /* transparent header */
}}

[data-testid="stToolbar"] {{
    right: 2rem;
}}

div.stButton > button {{
    font-size: 20px;        /* larger text */
    font-weight: bold;      /* bold text */
    padding: 15px 30px;     /* more space inside */
    height: 60px;           /* taller button */
    width: 100%;            /* stretch to column width */
    border-radius: 10px;    /* rounded corners */
}}

/* Make general text bigger and bolder */
html, body, [class*="css"] {{
    font-size: 18px;        /* larger text */
    font-weight: 600;       /* semi-bold */
}}
/* Add a card-like style around the dataframe */
[data-testid="stDataFrame"] {{
    border: 2px solid #1E90FF;   /* bold border */
    border-radius: 10px;         /* rounded corners */
    box-shadow: 4px 4px 12px rgba(0,0,0,0.2); /* subtle shadow */
    padding: 10px;
    background-color: #ffffff;   /* solid background */
}}

/* Table text styling */
[data-testid="stDataFrame"] table {{
    font-size: 16px;
    font-weight: 600;
    color: #333;
}}

/* Header styling */
[data-testid="stDataFrame"] th {{
    background-color: #1E90FF !important;
    color: white !important;
    font-size: 18px;
    font-weight: bold;
}}
</style>
"""

st.markdown(page_bg_css, unsafe_allow_html=True)


st.title('Scheiner Sports Solutions')
st.markdown('An interactive Streamlit dashboard containing multiple sports solutions \
         for fantasy and betting help. Designed by Andrew Scheiner.')

##########################
#### Revamp home page ####
##########################
# Import each page as a module
import tools.BettingSystems as betting_systems
import tools.NFLPowerRankings as nfl
import tools.PitcherProps as pitcher
import tools.TangoTracker as tango
import tools.LadderingTool as ladder
import tools.SlumpDetector as slump
import tools.ReverseRunYourPool as reverse_pool
import tools.NBADaily as nba_daily

# Initialize session state
if "page" not in st.session_state:
    st.session_state.page = "home"

# -------------------------------
# Betting Systems Section (3x1)
# -------------------------------
st.header("Betting Systems")
cols = st.columns(4)
if cols[0].button("ğŸ€ NBA Daily Insights"):
    st.session_state.page = "nba_daily"
if cols[1].button("ğŸ€ Betting Systems"):
    st.session_state.page = "betting_systems"
if cols[2].button("âš¾ Pitcher Props"):
    st.session_state.page = "pitcher"
if cols[3].button("ğŸªœ Laddering Tool"):
    st.session_state.page = "ladder"



# -------------------------------
# Seasonal Tools Section (1x4)
# -------------------------------
st.header("Seasonal Tools")
cols2 = st.columns(4)
if cols2[0].button("ğŸ” Tango Tracker"):
    st.session_state.page = "tango"
if cols2[1].button("ğŸˆ NFL Power Rankings"):
    st.session_state.page = "nfl"
if cols2[2].button("ğŸ§Š Slump Detector"):
    st.session_state.page = "slump"
if cols2[3].button("ğŸ”„ MLB Runs Given Up / Reverse Run Your Pool"):
    st.session_state.page = "reverse_pool"

# Render selected page
if st.session_state.page == "betting_systems":
    betting_systems.app()
if st.session_state.page == "nba_daily":
    nba_daily.app()
elif st.session_state.page == "nfl":
    nfl.app()
elif st.session_state.page == "pitcher":
    pitcher.app()
elif st.session_state.page == "tango":
    tango.app()
elif st.session_state.page == "ladder":
    ladder.app()
elif st.session_state.page == "slump":
    slump.app()
elif st.session_state.page == "reverse_pool":
    reverse_pool.app()
        
st.write("Data sources and packages: ESPN, Fangraphs, pybaseball, nfl-data-py, MLB Stats API, Kaggle")
st.write("Disclaimer: I will not be displaying any lines posted by sportsbooks, and all predictions generated by my models are only recommendations. Please bet responsibly and only risk what you are willing to lose.")
st.write("Â© Andrew Scheiner 2026")